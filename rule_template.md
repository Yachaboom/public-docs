# {{ sdk\_name }} {{ version }} 참조 문서 **LLM 활용 최적화 가이드 템플릿**

> **목적:** 이 템플릿은 생성된 참조 문서(main-documentation.md 등)를 LLM이 최대 효율로 활용하도록 *안내 문서*를 자동 생성할 때 사용합니다. 프롬프트 기반 문서 생성 파이프라인(예: void-breaker.py)에서 **플레이스홀더 미치환 문제**, **구조 검증 실패**, **콘텐츠 누락**을 줄이도록 개선되었습니다.
>
> **사용 규칙 요약:** *모든 대괄호 플레이스홀더는 최종 출력 전 반드시 치환하거나 제거*하고, *빈 코드 블록이나 섹션을 남기지 마세요.* 아래 “🔧 렌더링 규칙”을 준수하세요.

---

## 🔧 렌더링 규칙 (중요)

아래 규칙을 지키면 자동 검증 스크립트가 높은 점수를 줍니다.

1. **필수 변수를 치환**: `{{ sdk_name }}`, `{{ version }}`, `{{ language }}`, `{{ sdk_type }}` 등 Jinja 변수는 모두 값으로 치환합니다. 비어 있다면 합리적 기본값을 넣고 `> NOTE:`로 명시.
2. **대괄호 플레이스홀더 금지**: `[기본 설정]`, `[코드 + 설명]` 같은 미치환 텍스트가 최종 결과에 남지 않도록 합니다. 대신 구체 제목/내용을 작성하세요.
3. **빈 섹션 제거**: 내용이 없다면 해당 소제목 자체를 삭제하거나 "(해당 없음)"으로 표시.
4. **코드 블록은 실행 가능 형태**로. 패키지 import, 최소 동작 예시 포함.
5. **문서간 참조는 경로명만** 사용 (ex. *See: main-documentation.md ▶ 설치 및 설정*). URL 필요 시 별도 메타 필드.
6. **버전 명시 반복**: 문서 시작과 주요 코드 예제에 `# Tested with {{ sdk_name }} {{ version }}` 주석 포함.
7. **언어별 스타일 가드**: Python ↔ JS ↔ TS 등 언어별 가이드 스니펫 반드시 삽입(아래 자동 조건부 블록 사용).

---

## ✅ 자동 검증 훅 지원

검증 스크립트가 찾는 주요 앵커는 아래와 같습니다. **삭제하면 감점**되니 반드시 유지하세요 (텍스트는 수정 가능하나 이모지/키워드 유지 권장).

* `## 🎯 목표` *(goal\_section)*
* `## 📁 문서 구조 정보` *(doc\_structure)*
* `## 🧠 LLM 활용 전략` *(llm\_strategy)*
* `### 질문 유형별 문서 활용 전략` *(template\_usage)*
* `## 베스트 프랙티스` *(best\_practices)* — 새롭게 강화된 필수 섹션 (v2)

감점 원인이었던 미치환 플레이스홀더를 제거한 버전이 아래 전체 템플릿 본문입니다.

---

## 🎯 목표

{{ sdk\_name }} {{ version }}의 **LLM 활용 최적화 가이드**를 제공합니다. 이 가이드는 LLM이 생성된 참조 문서를 효과적으로 활용하여 정확하고 실용적인 {{ sdk\_name }} 코드를 생성하고 디버깅·최적화까지 수행하도록 돕습니다. 대상 독자는 *자동 응답형 LLM*, *문서 기반 코드 보조 에이전트*, 그리고 *개발자 프롬프트 작성자*입니다.

---

## 📁 문서 구조 정보

아래 4개 파일이 생성되어 있다고 가정합니다. 경로/파일명은 필요 시 변수화하세요.

| 파일                        | 목적                      | 사용 시나리오 요약                                 |                 |                    |
| ------------------------- | ----------------------- | ------------------------------------------ | --------------- | ------------------ |
| **main-documentation.md** | 완전한 참조 문서. 가장 상세하고 포괄적. | 개념 + API + 고급 + 실전.                        |                 |                    |
| **llms.txt**              | 초경량 인덱스 & 핵심 개념 로드맵.    | LLM 컨텍스트 압축, 빠른 탐색.                        |                 |                    |
| **llms-full.txt**         | 전체 내용을 하나로 병합한 풀 텍스트.   |                                            |                 |                    |
| \*\*{{ sdk\_name          | lower                   | replace(' ', '-') }}-reference-rule.md\*\* | 바로 이 활용 가이드 문서. | LLM 답변 정책 & 품질 체크. |

> **TIP:** LLM 대화 컨텍스트가 제한될 때 `llms.txt`로 빠른 정렬 후 필요한 섹션만 스트리밍 로드.

---

## 🧠 LLM 활용 전략

LLM이 사용자 질문의 *의도 유형*을 먼저 분류한 뒤, 적절한 문서 조합을 참조하도록 안내하세요. 아래 전략 매트릭스는 **입력 질문 → 문서 선택 → 출력 형태**로 이어집니다.

### 질문 유형별 문서 활용 전략

#### 1. 빠른 정보 확인 (Simple Query)

**질문 예:**

* "{{ sdk\_name }}에서 {{ sdk\_type | get\_common\_operation }} 사용법이 뭐야?"
* "주요 클래스 생성자 매개변수 정리해줘."
* "기본 설정 옵션 목록?"

**접근 순서:**

1. `llms.txt`에서 해당 키워드/섹션 인덱스 찾기.
2. 인덱스가 지목한 *main-documentation.md* 섹션만 부분 로드.
3. 짧은 표 + 간단 예제 코드로 답변.

#### 2. 구현 예제 필요 (Implementation Example)

**질문 예:**

* "고급 기능 기능 A + B 통합 코드 보여줘."
* "에러 처리 포함 프로덕션 예제."
* "테스트 가능한 최소 재현 코드(MRE) 만들어줘."

**접근 순서:**

1. *main-documentation.md ▶ 실전 예제* 섹션 우선.
2. 필요한 API 시그니처는 *핵심 API 참조*에서 교차 확인.
3. 최종 출력은 **완전 실행 코드** (imports, init, cleanup 포함).

#### 3. 전체적인 이해 필요 (Conceptual Understanding)

**질문 예:**

* "{{ sdk\_name }} 아키텍처 개요 설명."
* "주요 컴포넌트 관계와 데이터 흐름?"
* "경쟁 {{ sdk\_type }} 대비 차별점?"

**접근 순서:**

1. `llms-full.txt` 전체 컨텍스트 또는 요약 캐시 사용.
2. *main-documentation.md ▶ 기본 개념* 크로스링크.
3. 개념 그림 텍스트화 (ASCII 다이어그램 등) 제공.

#### 4. 복잡한 통합 질문 (Complex Integration)

**질문 예:**

* "프로덕션 환경 안정적 운영 전략?"
* "{{ language }} 애플리케이션에 {{ sdk\_name }} 통합 전체 가이드."
* "성능 튜닝 + 고가용성 아키텍처?"

**접근 순서:**

1. `llms-full.txt`에서 관련 모든 섹션 검색 후 서브셋 생성.
2. *main-documentation.md ▶ 설치/설정*, ▶ 고급 기능, ▶ 성능 최적화 연속 참조.
3. 단계별 체크리스트 + 배포 파이프라인 예제 제공.

---

## 🎯 {{ sdk\_name }} 특성별 접근 전략

> 아래 블록은 sdk\_type에 따라 조건부 렌더링합니다.

### {{ sdk\_type | title }} 중심 개발 패턴

{% if sdk\_type == 'web-framework' %}
**우선 탐색 섹션:**

* 설치 & 기본 설정 → *main-documentation.md ▶ 설치 및 설정*.
* 라우팅 → *라우팅 시스템*.
* 미들웨어/인터셉터 → *미들웨어*.
* DB 연동 → *실전 예제: 데이터 계층 통합*.
  {% elif sdk\_type == 'database' or sdk\_type == 'orm' %}
  **우선 탐색 섹션:**
* 연결 설정 → *연결 & 설정*.
* 모델/스키마 정의 → *스키마 정의와 모델링*.
* 쿼리 작성 → *쿼리 패턴*.
* 성능 튜닝 → *성능 최적화*.
  {% else %}
  **우선 탐색 섹션:**
* 시작하기 → *시작하기*.
* 핵심 API → *API 참조*.
* 고급 기능 → *고급 기능*.
* 실전 활용 → *실전 예제*.
  {% endif %}

---

## 🌐 {{ language }} 언어 특화 고려사항

> 언어별 블록 중 해당되는 것만 출력하고, 나머지는 제거하세요.

{% if language == 'Python' %}

* **타입 힌트:** 모든 공개 함수/메서드에 `typing` 기반 서명.
* **비동기:** `async`/`await`, `asyncio.run()` 사용 예시 포함.
* **의존성 관리:** pip / uv / poetry 설치 예시.
* **가상환경:** venv 또는 uv-venv 단계 안내.
* **로깅 & 예외:** `logging` 모듈 기본 설정 스니펫.
  {% elif language == 'JavaScript' %}
* **모듈 시스템:** ES Modules (`import`/`export`).
* **비동기 처리:** `async`/`await` + 에러 핸들링.
* **패키지 관리:** npm / pnpm / yarn.
* **타입 안전성:** JSDoc 또는 TS 변환 경로.
  {% elif language == 'TypeScript' %}
* **타입 정의:** 풍부한 인터페이스/제네릭.
* **tsconfig 최적화:** strict 모드 권장.
* **런타임 통합:** ESM 빌드 + declaration emit.
  {% else %}
* **타입 시스템:** {{ language }} 언어 가이드 참조.
* **메모리/리소스 관리** 언어별 권장 패턴.
* **빌드 & 패키징** 도구.
  {% endif %}

---

## 📝 답변 작성 가이드라인

### ✅ 반드시 해야 할 것

#### 1. 정확한 문서 기반 답변

* 관련 섹션/예제를 명시적으로 참조.
* {{ sdk\_name }} {{ version }} API 시그니처 정확히 사용.
* 최신 버전 기준 (구버전 차이는 주석 처리).
* 가능한 한 공식 문서 구조/용어 유지.

#### 2. 실행 가능한 코드 제공

아래는 언어별 *미니멀 실행 예제 스켈레톤*입니다. **실제 답변 시 반드시 구체화**하세요.

```{{ language | lower }}
# Tested with {{ sdk_name }} {{ version }}
# 필요한 imports 모두 포함
# ↓ 여기에 실제 동작 코드 삽입
```

**Python 예 스켈레톤**

```python
from {{ sdk_name | lower }} import ...  # 실제 심볼로 교체
import logging

logging.basicConfig(level=logging.INFO)

def main() -> None:
    try:
        result = ...  # 핵심 작업
        print("성공:", result)
    except Exception as e:  # 구체 예외 교체 권장
        logging.exception("오류 발생")
        raise

if __name__ == "__main__":
    main()
```

**JavaScript 예 스켈레톤 (ESM)**

```javascript
import { /* symbols */ } from '{{ sdk_name | lower }}';

async function main() {
  try {
    const result = await /* 작업 */();
    console.log('성공:', result);
  } catch (err) {
    console.error('오류:', err);
    throw err;
  }
}

main();
```

#### 3. 맥락과 배경 설명

* 왜 이 API를 쓰는지.
* 대안과 비교.
* 성능/안정성 트레이드오프.

#### 4. 실전 고려사항

* 성능 최적화(캐싱, 풀링, 비동기화 등).
* 보안(자격증명, 입력 검증, 비밀관리).
* 예외 처리 패턴.
* 테스트(단위/통합/회귀).
* 배포(환경변수, CI/CD, 관측성).

---

### ❌ 절대 하지 말 것

1. **추측 정보 금지** – 문서에 없으면 "문서에 없음"으로 표시.
2. **불완전 스니펫 금지** – import/설정 누락 금지.
3. **버전 혼동 금지** – {{ sdk\_name }} {{ version }} 기준이며 다른 버전은 비교 섹션에서만.

---

## 📋 답변 템플릿 모음

아래 템플릿들은 *프롬프트-응답 생성기*가 상황별로 선택해 사용할 수 있는 구조적 프레임입니다. **대괄호 대신 구체 텍스트**로 작성하세요.

### A. 기본 질문 처리 템플릿

```
## 핵심 답변
<요약 + 짧은 실행 코드>

## 상세 설명
<개념 + 동작 원리>

## 실전 고려사항
<에러 처리 / 성능 / 보안>

## 관련 자료
<main-documentation.md ▶ 섹션 링크 목록>
```

### B. 복잡한 구현 질문 템플릿

```
## 전체 아키텍처 개요
<텍스트 다이어그램>

## 단계별 구현
### 1단계: 환경 준비
<코드 + 설명>

### 2단계: 핵심 기능 구현
<코드 + 설명>

### 3단계: 고급 기능 / 확장
<코드 + 설명>

## 테스트 방법
<테스트 코드 + 시나리오>

## 프로덕션 고려사항
<배포 / 모니터링 / 튜닝>

## 문제 해결 가이드
<흔한 오류 + 해결>
```

### C. 개념 설명 템플릿

```
## 핵심 개념
<정의 + 핵심 원리>

## 동작 원리
<내부 처리 흐름>

## 사용 사례
<언제/왜 사용>

## 코드 예제
<작은 예제>

## 관련 개념
<연결 주제>

## 베스트 프랙티스
<권장 + 주의>
```

---

## 베스트 프랙티스

아래 체크리스트는 문서 생성 전/후 자동 검증에 활용할 수 있습니다. 스크립트는 Markdown 체크박스 형태를 파싱해 점수를 매길 수 있습니다.

### 내용 정확성

* [ ] 문서 근거 확인 (섹션 경로 포함?).
* [ ] {{ sdk\_name }} {{ version }} 기준인지 재검증.
* [ ] API 시그니처 오타 검사.

### 코드 품질

* [ ] 실행 가능 여부(로컬 테스트 통과?).
* [ ] 필수 import 포함.
* [ ] 예외 처리.
* [ ] 언어별 린터/포매터 통과.

### 설명 품질

* [ ] 초보자 접근성.
* [ ] 단계별 절차 제공.
* [ ] 배경/이유 설명.

### 실무 적용성

* [ ] 성능 팁 포함.
* [ ] 보안 고려.
* [ ] 프로덕션 배포 지침.

### 완성도

* [ ] 관련 문서 섹션 링크.
* [ ] 추가 학습 리소스.
* [ ] 문제 해결 섹션.

---

## 🔍 품질 진단 & 자동 점수화 힌트

이 템플릿은 이전 v1 대비 자동 진단 호환성을 높였습니다.

| 검증 항목  | v1 문제         | v2 해결 전략              |
| ------ | ------------- | --------------------- |
| 구조 검증  | 섹션 누락/이름 변형   | 이모지 + 한글 헤더 고정 앵커 유지  |
| 필수 요소  | 5/8 발견 문제     | 체크리스트 확대 + 문서 참조 표 추가 |
| 콘텐츠 품질 | 미치환 플레이스홀더 감점 | 대괄호 금지 규칙 + 구체화 지침    |

---

## 📦 문서 메타데이터 블록 (자동 삽입 권장)

문서 끝에 YAML 또는 Markdown 메타 블록을 삽입해 파이프라인이 파싱할 수 있게 합니다.

```yaml
created: {{ current_date }}
sdk:
  name: {{ sdk_name }}
  version: {{ version }}
  type: {{ sdk_type }}
language: {{ language }}
guide_version: 1.1  # 템플릿 v2 출력물 버전
source_files:
  - main-documentation.md
  - llms.txt
  - llms-full.txt
  - {{ sdk_name | lower | replace(' ', '-') }}-reference-rule.md
```

---

## 🔚 마무리 안내

이 템플릿을 사용해 생성된 가이드는 LLM이 참조 문서를 **검색 → 필터 → 맥락화 → 코드 생성**의 4단계를 일관되게 수행하도록 돕습니다. 문서 생성 자동화 파이프라인에 통합 시 아래 후처리를 권장합니다.

1. **변수 치환 전 사전 검증:** 필수 변수 누락 시 실패 처리.
2. **대괄호 문자열 스캔:** 남아 있으면 실패.
3. **코드 블록 언어 태그 확인:** 선택 언어와 불일치 시 경고.
4. **문서 내 파일 참조 교차검증:** 존재하지 않는 파일명 감지.

문제 발생 시 에러 리포트 예:

```
ERROR: unresolved placeholder: {{ sdk_name }}
ERROR: found literal square-bracket token: [코드 + 설명]
```

---
